<form [formGroup]="userForm" (ngSubmit)="save()" class="container">
  <h2>{{ isEditMode ? "Edit User" : "Create User" }}</h2>

  <!-- Name -->
  <label>Name <span class="required">*</span></label>

  <input
    type="text"
    formControlName="name"
    placeholder="Enter the Name"
    [class.invalid]="(f['name'].touched || submitted) && f['name'].invalid"
  />

  <div
    class="error"
    *ngIf="(f['name'].touched || submitted) && f['name'].errors"
  >
    <span *ngIf="f['name'].errors?.['required']"> Name is required </span>

    <span *ngIf="f['name'].errors?.['minlength']">
      Name must be at least 4 characters
    </span>
  </div>

  <!-- Email -->
  <label>Email <span class="required">*</span></label>

  <input
    type="email"
    formControlName="email"
    placeholder="Enter the Email"
    [class.invalid]="(f['email'].touched || submitted) && f['email'].invalid"
  />

  <div
    class="error"
    *ngIf="(f['email'].touched || submitted) && f['email'].errors"
  >
    <span *ngIf="f['email'].errors?.['required']"> Email is required </span>

    <span *ngIf="f['email'].errors?.['email']"> Enter valid email </span>
  </div>

  <!-- Phone -->
  <label>Phone <span class="required">*</span></label>

  <input
    type="tel"
    formControlName="phonenumber"
    placeholder="Enter the Phone Number"
    maxlength="10"
    [class.invalid]="
      (f['phonenumber'].touched || submitted) && f['phonenumber'].invalid
    "
  />

  <div
    class="error"
    *ngIf="(f['phonenumber'].touched || submitted) && f['phonenumber'].errors"
  >
    <span *ngIf="f['phonenumber'].errors?.['required']">
      Phone number is required
    </span>

    <span *ngIf="f['phonenumber'].errors?.['pattern']">
      Phone number must be exactly 10 digits
    </span>
  </div>

  <!-- Address -->
  <label>Address <span class="required">*</span></label>

  <input
    type="text"
    formControlName="address"
    placeholder="Enter the Address"
    [class.invalid]="
      (f['address'].touched || submitted) && f['address'].invalid
    "
  />

  <div
    class="error"
    *ngIf="(f['address'].touched || submitted) && f['address'].errors"
  >
    <span *ngIf="f['address'].errors?.['required']"> Address is required </span>

    <span *ngIf="f['address'].errors?.['minlength']">
      Address must be at least 4 characters
    </span>
  </div>

  <!-- Buttons -->
  <div class="buttons">
    <button type="submit">
      {{ isEditMode ? "Update" : "Create" }}
    </button>

    <button type="button" (click)="cancel()">Cancel</button>
  </div>
</form>
